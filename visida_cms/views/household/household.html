<div id="content" ng-controller="householdController" class="container-fluid" style="margin-left: 40px;">
	<div class="row content">
		<div class="col-xs-12">
			<span class="page-head h3">Household Data</span>
			<span class="glyphicon glyphicon-refresh glyph-md {{ (loading > 0) && 'loading-run' || 'loading-done' }}" style="margin-left: 15px;"></span>
			<span class="pull-right" role="button" data-toggle="modal" data-target="#historyModal" ng-show="days" ng-click="showConversionHistories(household.conversionHistories)">History <span class="glyphicon glyphicon-time btn-glyph"></span></span>
			<!-- <button class="btn btn-standard btn-sm" data-toggle="modal" data-target="#columnModal" ng-disabled="!selectedModel" style="margin-left: 20px;">Choose Columns</button> -->
			<hr class="head-hr">
		</div>
		<div class="col-xs-12">
			<div class="form-inline form-group search-container" style="padding: 5px 0px 8px 0px;">
				<div class="col-sm-6 col-md-4" style="height: 24px;">
					<label for="sStudy">Study:</label>
					<div style="padding: 0; display: inline-block; width: 80%">
						<select id="sStudy" chosen data-placeholder-text-single="'Select study'" no-results-text="'No matching studies'" ng-model="selectedStudy"
							class="item-name align-middle" style="width: 100%" ng-options="s.id as s.name for s in searchConfig.studies" ng-change="studyChanged()">
							<option value="">Any</option>
							<!-- ng-options="s.id as s.name for s in searchConfig.studies" -->
							<!-- <option value="{{x.id}}" ng-repeat="s in searchConfig.studies">{{s.name}}</option> -->
						</select>
						
					</div>
				</div>

				<div class="col-sm-6 col-md-4">
					<label for="sHousehold">Household:</label>
					<div style="padding: 0; display: inline-block; width: 80%">
						<select id="sHousehold" chosen data-placeholder-text-single="'Select household'" no-results-text="'No matching households'" ng-model="selectedHousehold"
							class="item-name align-middle" style="width: 100%"  ng-change="householdChanged()">
							<option value="">Any</option>
							<!-- ng-options="h.name as h.name for h in searchHouseholds" -->
							<option value="{{h.name}}" ng-repeat="h in searchHouseholds">{{h.name}}</option>
						</select>
					</div>
				</div>
				<div class="col-sm-4">
					<button class="btn btn-standard btn-sm" type="button" role="button" data-toggle="modal" data-target="#daysModal" style="margin-left: 12px;">Choose Days</button>
					<button class="btn btn-primary btn-sm" style="margin-left: 20px;" ng-click="searchClicked()" ng-disabled="!selectedStudy || !selectedHousehold">Search</button>
				</div>
			</div><br/>
			<hr class="head-hr">
			<div ng-if="household">
				<ul class="list-group">
					<li class="list-group-item list-group-item-header"><span>Participants</span></li>
					<li class="list-group-item hh-participant-select" ng-repeat="hm in household.householdMembers">
						<span class="glyphicon {{hm.hide ? 'glyphicon-unchecked' : 'glyphicon-check'}}" ng-click="toggleParticipant(hm)" role="button"></span>
						<span style="color: {{hm.color}}" class="glyphicon glyphicon-user"/>
						<span>{{hm.participantId}}</span>
						<span style="font-weight: normal; padding-left: 50px;">{{hm.years}}yr {{hm.months > 0 ? hm.months + 'mo ' : ''}}old {{(hm.isFemale ? 'Female' : 'Male')}}
							<span ng-if="hm.lifeStage && hm.lifeStage !== 'None'">Lifestage: {{hm.lifeStage}}</span>
							<span ng-if="hm.age < 5">Is Breastfed: {{hm.isBreastfed ? 'Yes': 'No'}}</span>
						</span>
						<button class="btn btn-standard btn-sm pull-right" type="button" role="button" data-toggle="modal" data-target="#participantModal" ng-click="selectParticipant(hm);" style="padding: 4px 10px; margin: -2px 0px;">
							Edit <span class="glyphicon glyphicon-edit" />
						</button>
					</li>
					<li class="list-group-item hh-participant-select">
						<span class="glyphicon {{showRecipes ? 'glyphicon-check' : 'glyphicon-unchecked'}}" ng-click="toggleRecipes()" role="button"></span>
						<span>Recipes</span>
					</li>
				</ul>
			</div>
			<hr class="head-hr">
			<div class="hh-display level-0" ng-repeat="day in days" ng-if="shouldShowDay(day)" ng-init="$last && scrollToLinked()">
				<div style="font-weight: bold; font-size: 24px; padding-top: 5px; padding-bottom: 5px;">
					<span class="bold">{{ day.date | date : 'dd/MM/yyyy' }}</span>
					<span class="glyphicon pull-right glyphicon-plus glyph-btn" style="color: #517329;" role="button" ng-click="startNewRecord(day)" title="Add Record/Recipe">
				</div>
				<hr/>
				<div class="test-hhview">
					<div class="hh-display level-2 hhview-er" ng-repeat="er in day.recordings" ng-style="styleRecord(er)" ng-show="shouldShowRecord(er)">
						<div ng-if="er.isEatRecord" class="hhview-record">
							<div>
								<span class="bold">{{ er.captureTime | date : 'hh:mma'}} - Eat Record</span>
							</div>
							<div class="hhview-inner">
								<div id="record-{{er.imageRecord.id}}" ng-click="selectRecord(er.imageRecord)" role="button" ng-style="styleComment(er.imageRecord)" class="hoverimage">
									<span class="glyphicon glyphicon-time btn-glyph history-icon" role="button" ng-show="er.conversionHistories" ng-click="showConversionHistories(er.conversionHistories, $event)"></span>
									<div ng-if="er.imageUrl"><img ng-src="{{er.imageThumbUrl ? er.imageThumbUrl : er.imageUrl}}" ></div><!-- class="{{ er.imageRecord.hidden ? 'hhview-hidden' : '' }}" -->
									<div ng-if="!er.imageUrl" class="hhview-text"><p>{{ er.textDescription }}</p></div>
									<div class="hhview-hidden" ng-if="er.imageRecord.hidden"><img src="images/hiddenw.png" /></div>
									<div class="hhview-comment-indicator" ng-if="er.imageRecord.comments.length > 0"  ng-style="styleCommentIndicator(er.imageRecord)">
										<span class="glyphicon glyphicon-comment" role="button" ng-click="selectComments(er.imageRecord); $event.stopPropagation();"></span>
									</div>
									<p class="hoverimagetext">{{getToolTip(er.imageRecord)}}</p>
								</div>

								<div id="record-{{er.leftovers.id}}" ng-click="selectRecord(er.leftovers)" role="button" ng-style="styleComment(er.leftovers)" ng-if="er.leftovers" class="hoverimage hhview-leftovers">
									<span class="glyphicon glyphicon-time btn-glyph history-icon" role="button" ng-show="er.leftovers.conversionHistories" ng-click="showConversionHistories(er.leftovers.conversionHistories, $event)"></span>

									<div ng-if="er.leftoverImageUrl" style="outline: #475932 5px solid;"><img ng-src="{{er.leftoverImageUrl}}"></div>
									<div ng-if="!er.leftoverImageUrl" style="outline: #475932 5px solid;" class="hhview-text"><p>{{ er.leftoverDescription }}</p></div>
									<div class="hhview-hidden" ng-if="er.leftovers.hidden"><img src="images/hiddenw.png" /></div>
									<div class="hhview-comment-indicator" ng-if="er.leftovers.comments.length > 0"  ng-style="styleCommentIndicator(er.leftovers)">
										<span class="glyphicon glyphicon-comment" role="button" ng-click="selectComments(er.leftovers); $event.stopPropagation();"></span>
									</div>
									<p class="hoverimagetext">{{getToolTip(er.leftovers)}}</p>
								</div>
							</div>
							<div class="hhview-participant-div">
								<div class="hoverfile" style="padding: 5px;" ng-repeat="p in er.participants">
									<span class="glyphicon glyphicon-user hhview-participant" style="color: {{p.color}}"></span>
										<p class="hoverfiletext">{{p.participantId}}<br/><br/>{{p.years}}yr {{p.months > 0 ? p.months + 'mo ' : ''}}old {{p.age < 18 ? 'Child' : (p.isFemale ? 'Female' : 'Male')}}</p>
								</div>
								<div ng-if="er.guestInfo && er.guestInfo.totalHeads > 1" class="hoverfile hhview-participant-group">
									<span class="glyphicon glyphicon-user"></span>
									<span class="glyphicon glyphicon-user" style="position: absolute; left: 10px; top: -5px;"></span>
									<div style="display: inline-block; font-size: 10px; font-weight: bolder; padding-left: 10px;">
										<span>Adult F: {{er.guestInfo.adultFemaleGuests}}</span><br/>
										<span>Adult M: {{er.guestInfo.adultMaleGuests}}</span><br/>
										<span>Child: {{er.guestInfo.childGuests}}</span><br/>
									</div>
								</div>
							</div>
						</div>
						<div ng-if="er.isRecipe" class="hhview-recipe" style="padding-bottom: 10px;">
							<div>
								<span class="bold">{{ er.captureTime | date : 'hh:mma'}} - Recipe{{ er.name ? ' - ' + er.name : '' }} </span>
								<span class="glyphicon glyphicon-plus glyph-btn pull-right" style="font-size: 14px; color: #517329;" ng-click="addIngredient(er.day, er)" role="button" title="Add Ingredient">
							</div>
							<div class="hhview-inner" style="display: inline-block;">
								<div id="recipe-{{er.id}}" ng-click="selectRecipe(er)" role="button" ng-style="styleComment(er)" class="hoverimage">
									<div ng-if="er.imageUrl" style="outline: #475932 5px solid;"><img ng-src="{{er.imageThumbUrl ? er.imageThumbUrl : er.imageUrl}}"></div>
									<div ng-if="!er.imageUrl" style="outline: #475932 5px solid;" class="hhview-text"><p>{{ er.textDescription ? er.textDescription : 'No Image' }}</p></div>
									<div class="hhview-hidden" ng-if="er.hidden"><img src="images/hiddenw.png" /></div>
									<div class="hhview-comment-indicator" ng-if="er.comments.length > 0"  ng-style="styleCommentIndicator(er)">
										<span class="glyphicon glyphicon-comment" role="button" ng-click="selectComments(er); $event.stopPropagation();"></span>
									</div>
									<p class="hoverimagetext">{{getToolTip(er)}}</p>
									<span class="glyphicon glyphicon-time btn-glyph history-icon" role="button"  ng-show="er.conversionHistories" ng-click="showConversionHistories(er.conversionHistories, $event)"></span>
								</div>
								<!-- <div ng-repeat="ing in er.ingredients" >
									<div ng-click="selectRecord(ing.imageRecord)" role="button">
										<div ng-if="ing.imageRecord.imageUrl"><img ng-src="{{ ing.imageRecord.imageUrl }}" class="{{ ing.imageRecord.hidden ? 'hhview-hidden' : '' }}"></div>
										<div ng-if="!ing.imageRecord.imageUrl" class="hhview-text"><p>{{ ing.imageRecord.textDescription }}</p></div>
									</div>
								</div> -->
							</div>
							<div class="hhview-recipe-buffer" ng-if="re.ingredients.length > 0"><div>&nbsp;</div></div>
							<div class="hhview-inner" ng-repeat="ing in er.ingredients" style="display: inline-block; margin-right: 4px;">
								<div id="record-{{ing.imageRecord.id}}" ng-click="selectRecord(ing.imageRecord)" role="button" ng-style="styleComment(ing.imageRecord)" class="hoverimage">
									<div ng-if="ing.imageRecord.imageUrl"><img ng-src="{{ing.imageRecord.imageThumbUrl ? ing.imageRecord.imageThumbUrl : ing.imageRecord.imageUrl}}"></div>
									<div ng-if="!ing.imageRecord.imageUrl" class="hhview-text"><p>{{ ing.imageRecord.textDescription }}</p></div>
									<div class="hhview-hidden" ng-if="ing.imageRecord.hidden"><img src="images/hiddenw.png" /></div>
									<div class="hhview-comment-indicator" ng-if="ing.imageRecord.comments.length > 0" ng-style="styleCommentIndicator(ing.imageRecord)">
										<span class="glyphicon glyphicon-comment" role="button" ng-click="selectComments(ing.imageRecord); $event.stopPropagation();"></span>
									</div>
									<p class="hoverimagetext">{{getToolTip(ing.imageRecord)}}</p>
									<span class="glyphicon glyphicon-time btn-glyph history-icon" role="button"  ng-show="ing.conversionHistories" ng-click="showConversionHistories(ing.conversionHistories, $event)"></span>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="hh-display level-2">
					<div role="button" ng-click="day.showComments = !day.showComments" style="margin: -10px; padding: 10px;">
						<span class="bold" style="font-size: 1.2em;">Comments</span>
						<span class="bold pull-right fake-a" style="font-size: 1.2em;">{{ day.showComments ? 'Hide' : 'Show' }}</span>
					</div>
					<div ng-show="day.showComments">
						<div class="hh-comment" role="button" ng-click="toggleAllComments(day)">
							<div class="comment-left">
								<span class="glyphicon {{day.allCommentsChecked ? 'glyphicon-check' : 'glyphicon-unchecked'}}"></span>
							</div>
							<div class="comment-right">
								<span class="bold">All</span>
							</div>
						</div>
						<div ng-repeat="comment in day.comments" class="hh-comment" role="button" ng-click="checkComment(!comment.checked, comment, day)" ng-if="!comment.hidden">
							<div class="comment-left">
								<span class="glyphicon {{comment.checked ? 'glyphicon-check' : 'glyphicon-unchecked'}}"></span>
							</div>
							<div class="comment-right">
								<div class="comment-content">
									<span style="font-weight: bolder; display: block;">{{comment.createdTime | date : 'hh:mm dd/MM/yy'}}</span>
									<span style="font-weight: bolder;">{{comment.authorName}}: </span>
									<span class="glyphicon glyphicon-exclamation-sign text-danger" ng-if="comment.flag === 'Warning'"/>
									<span>{{comment.text}}</span>
								</div>
								<div class="comment-remove">
									<span class="glyphicon glyphicon-eye-open btn-glyph" role="button" ng-click="deleteComment(comment)"  title="Hide" />
								</div>
							</div>
							<div ng-repeat="reply in comment.replies" class="hh-comment" role="button" ng-if="!reply.hidden" style="margin-left: 30px;">
								<div class="comment-right">
									<div class="comment-content">
										<span style="font-weight: bolder; display: block;">{{reply.createdTime | date : 'hh:mm dd/MM/yy'}}</span>
										<span style="font-weight: bolder;">{{reply.authorName}}: </span>
										<span class="glyphicon glyphicon-exclamation-sign text-danger" ng-if="reply.flag === 'Warning'"/>
										<span>{{reply.text}}</span>
									</div>
									<div class="comment-remove">
									<span class="glyphicon glyphicon-eye-open btn-glyph" role="button" ng-click="deleteComment(reply)"  title="Hide" />
								</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<household-data-dialog></household-data-dialog>
	<div ng-show="selectedRecipe != null">
		<div style="position: fixed; left: 0; right: 0; margin: 0; background-color: #000000aa; top: 0; bottom: 0; display: flex;" class="h-100 row align-items-center"  ng-click="selectRecipe(null)">
			<div class="floating-form" style="position: relative;"  ng-click="$event.stopPropagation();">
				<div>
					<div style="padding-bottom: 3px;">
						<span class="row-head"><a href="#!recipe?id={{selectedRecipe.id}}" target="_blank">Recipe - {{selectedRecipe.name}}</a></span>
						<span class="glyphicon glyphicon-remove pull-right" style="font-size: 1.2em;" ng-click="selectRecipe(null)" role="button"></span>
						<div style="margin-left: 40px; display: inline-block;">
							<span class="glyphicon glyphicon-eye-open glyph-md btn-glyph" role="button" title="Hide" ng-if="!selectedRecipe.hidden" ng-click="toggleHiddenRecipe(selectedRecipe)"></span>
							<span class="glyphicon glyphicon-eye-close glyph-md btn-glyph" role="button" title="Show" style="color: #ababab" ng-if="selectedRecipe.hidden" ng-click="toggleHiddenRecipe(selectedRecipe)"></span>
						</div>
					</div>
					<hr>
					<div class="row">
						<div class="col-md-4">
							<span class="bolder" style="width: 100%;">Food Items:</span>
							<ul style="list-style: disc;">
								<li ng-repeat="fi in selectedRecipe.foodItems">{{ fi.quantityGrams != 0 ? fi.quantityGrams.toFixed(1) + 'g' : '~' }} {{ fi.name}}</li>
							</ul>
						</div>
						<div class="hhview-update-image col-md-4" role="button" ng-click="changeImage(selectedRecipe)">
							<div ng-if="selectedRecipe.imageUrl"><img ng-src="{{selectedRecipe.imageThumbUrl ? selectedRecipe.imageThumbUrl : selectedRecipe.imageUrl}}" style="height: 256px;"></div>
							<div ng-if="!selectedRecipe.imageUrl" class="hhview-text"><p style="width: 100%;">{{ selectedRecipe.textDescription }}</p></div>

							<div class="hhview-update-image-button">
								<div>
									<span>Change Image</span>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<span class="bolder" style="width: 100%;">Comments:</span>
							<ul style="list-style: disc;">
								<li ng-repeat="comment in selectedRecipe.comments" ng-if="!comment.hidden"><span class="bold" ng-if="comment.authorName">{{comment.authorName}}: </span>{{comment.text | limitTo : 60}} <i>{{ comment.createdTime | date: 'HH:mma dd/MM/yyyy' }}</i></li>
							</ul><br/>
							<button type="button" class="btn btn-standard btn-sm" ng-click="selectedRecipe.newComment = ''" ng-if="selectedRecipe.newComment === undefined">Add Comment</button>
							<div ng-if="selectedRecipe.newComment !== undefined">
								<textarea style="width: 100%;" rows="3" ng-model="selectedRecipe.newComment"></textarea><br/>
								<button type="button" class="btn btn-primary btn-sm" ng-click="addCommentRecipe(selectedRecipe)">Send</button>
							</div>
						</div>
					</div>
					<hr>
					<div>
						<div class="form-inline">
							<label for="convertTo">Move To: </label>
							<select name="convertTo" ng-model="convertDestination" class="form-control">
								<option value="eatrecord">New Eat Record</option>
								<option value="ingredient">Ingredient</option>
								<option value="leftovers">Leftovers</option>
							</select>
						</div>
					</div>
					<hr>
					<div ng-if="convertDestination === 'eatrecord'">
						<p>
							This option will change the selected recipe to a new <i>Eat Record</i>. Any ingredients attached to this recipe will be lost, if they need to be converted to other record types that should be done before converting this recipe.
						</p>
						<form class="form" ng-submit="convertRecipe(selectedRecipe, destinationParticipants)">
							<label for="">Select Participants: </label>
							<div ng-repeat="p in household.householdMembers" style="vertical-align: middle;"><label for="checkbox-{{p.participantId}}">{{p.participantId}}</label><input type="checkbox" name="checkbox-{{p.participantId}}" class="" ng-change="updateParticipantCheckbox(p)" ng-model="p.checked"></div><br/>
							<input type="submit" value="Convert" class="btn btn-primary" ng-disabled="!destinationParticipants">
						</form>
					</div>
					<div ng-if="convertDestination === 'ingredient'">
						<p>
							This option will change the selected recipe to an <i>Ingredient</i> for the selected recipe. Any ingredients attached to this recipe will be lost, if they need to be converted to other record types that should be done before converting this recipe.
						</p>
						<form class="form-inline" ng-submit="convertRecipeToIngredient(selectedRecipe, destinationRecipe)">
							<label for="destinationRecipe">Add to recipe: </label>
							<select name="destinationRecipe" ng-model="destinationRecipe" class="form-control">
								<option value="{{r.id}}" ng-repeat="r in household.householdRecipes">{{r.name}} {{ r.captureTime | date : 'hh:mma dd/MM/yyyy'}}</option>
							</select><br/><br/>
							<input type="submit" value="Convert" class="btn btn-primary" ng-disabled="!destinationRecipe">
						</form>
					</div>
					<div ng-if="convertDestination === 'leftovers'">
						<p>
							This option will change the selected recipe to <i>Leftovers</i> for the selected record. Any ingredients attached to this recipe will be lost, if they need to be converted to other record types that should be done before converting this recipe.
						</p>
						<form class="form-inline" ng-submit="convertRecipeToLeftovers(selectedRecipe, destinationRecord)">
							<label for="destinationRecord">Add to record: </label>
							<button class="btn btn-standard" ng-click="chooseEatRecord(selectedRecipe); $event.stopPropagation();" ng-show="!destinationRecord">Choose record</button>
							<span ng-show="destinationRecord" class="fake-a" role="button" ng-click="chooseEatRecord(selectedRecipe)">{{ destinationRecord.captureTime | date : 'hh:mma dd/MM/yyyy' }}</span><br/><br/>
							<input type="submit" value="Convert" class="btn btn-primary" ng-disabled="!destinationRecord">
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="newRecord">
		<div style="position: fixed; left: 0; right: 0; margin: 0; background-color: #000000aa; top: 0; bottom: 0; display: flex;" class="h-100 row align-items-center"  ng-click="newRecord = null;">
			<div class="floating-form col-xs-12 col-md-4" style="position: relative;"  ng-click="$event.stopPropagation();">
				<div><!--  ng-if="selectedRecord.recordType === 'EatRecord'"> -->
					<div style="padding-bottom: 3px;">
						<span class="row-head">New Record</span>
						<span class="glyphicon glyphicon-remove pull-right" style="font-size: 1.2em;" ng-click="newRecord = null;" role="button">
					</div>
					<div>
						<p>
							What type of record do you need to create:
						</p>
						<ul class="list-group">
							<li class="list-group-item col-xs-6 hh-new-item" ng-click="addEatRecord(newRecord)" role="button"><span class="bolder">Eat Record</span></li>
							<li class="list-group-item col-xs-6 hh-new-item" ng-click="addRecipe(newRecord)" role="button"><span class="bolder">Recipe</span></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="newEatRecord != null">
		<div style="position: fixed; left: 0; right: 0; margin: 0; background-color: #000000aa; top: 0; bottom: 0; display: flex;" class="h-100 row align-items-center"  ng-click="newEatRecord = null;">
			<div class="floating-form col-xs-12 col-md-4" style="position: relative;"  ng-click="$event.stopPropagation();">
				<div><!--  ng-if="selectedRecord.recordType === 'EatRecord'"> -->
					<div style="padding-bottom: 3px;">
						<span class="row-head">New Eat Record</span>
						<span class="glyphicon glyphicon-remove pull-right" style="font-size: 1.2em;" ng-click="newEatRecord = null;" role="button">
					</div>
					<div>
						<p>
							This option will create a new <i>Eat Record</i>. An image can be added once created.
						</p>
						<form class="form" ng-submit="createEatRecord(newEatRecord, destinationParticipants)">
							<label for="destinationRecipe">Select Participants: </label>
							<div ng-repeat="p in household.householdMembers" style="vertical-align: middle;"><label for="checkbox-{{p.participantId}}">{{p.participantId}}</label><input type="checkbox" name="checkbox-{{p.participantId}}" class="" ng-change="updateParticipantCheckbox(p)" ng-model="p.checked"></div><br/>

							<label>Time:</label>
							<input type="time" name="" ng-model="newEatRecord.captureTime"><br/>
							<label>Text Description:</label>
							<textarea style="width: 100%;" rows="5" ng-model="newEatRecord.textDescription"></textarea><br/>
							<br/>
							<input type="submit" value="Create" class="btn btn-primary" ng-disabled="!destinationParticipants || !newEatRecord.captureTime">
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="newRecipe != null">
		<div style="position: fixed; left: 0; right: 0; margin: 0; background-color: #000000aa; top: 0; bottom: 0; display: flex;" class="h-100 row align-items-center"  ng-click="newRecipe = null;">
			<div class="floating-form col-xs-12 col-md-4" style="position: relative;"  ng-click="$event.stopPropagation();">
				<div><!--  ng-if="selectedRecord.recordType === 'EatRecord'"> -->
					<div style="padding-bottom: 3px;">
						<span class="row-head">New Recipe</span>
						<span class="glyphicon glyphicon-remove pull-right" style="font-size: 1.2em;" ng-click="newRecipe = null;" role="button">
					</div>
					<div>
						<p>
							This option will create a new <i>Recipe</i>. An image can be added once created.
						</p>
						<form class="form" ng-submit="createRecipe(newRecipe)">
							<label>Name:</label>
							<input type="text" class="form-control" ng-model="newRecipe.name"/><br/><br/>
							<label>Time:</label>
							<input type="time" class="form-control" name="" ng-model="newRecipe.captureTime"><br/><br/>
							<label>Text Description:</label>
							<textarea style="width: 100%;" rows="5" ng-model="newRecipe.textDescription"></textarea>
							<br/>
							<input type="submit" value="Create" class="btn btn-primary" ng-disabled="!newRecipe.captureTime">
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="newIngredient != null">
		<div style="position: fixed; left: 0; right: 0; margin: 0; background-color: #000000aa; top: 0; bottom: 0; display: flex;" class="h-100 row align-items-center"  ng-click="newIngredient = null;">
			<div class="floating-form col-xs-12 col-md-4" style="position: relative;"  ng-click="$event.stopPropagation();">
				<div><!--  ng-if="selectedRecord.recordType === 'EatRecord'"> -->
					<div style="padding-bottom: 3px;">
						<span class="row-head">New Ingredient</span>
						<span class="glyphicon glyphicon-remove pull-right" style="font-size: 1.2em;" ng-click="newIngredient = null;" role="button">
					</div>
					<div>
						<p>
							This option will create a new <i>Ingredient</i>. An image can be added once created.
						</p>
						<form class="form" ng-submit="createIngredient(newIngredient)">
							<label>Time:</label>
							<input type="time" name="" ng-model="newIngredient.captureTime"><br/><br/>
							<label>Text Description:</label>
							<textarea style="width: 100%;" rows="5" ng-model="newIngredient.textDescription"></textarea>
							<br/>

							<input type="submit" value="Create" class="btn btn-primary" ng-disabled="!newIngredient.captureTime">
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<image-select-dialog></image-select-dialog>
	<div id="participantModal" class="container modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span></button>
					<span class="h4 modal-title">{{selectedParticipant.participantId}}</span>
				</div>
				<div class="modal-body">
					<form class="horizontal-bar-form">
						<div class="form-group row">
							<div class="col-sm-2"><label for="participantAge" class=" col-form-label">Age: </label></div>
							<div class="col-sm-10">
								<input type="number" id="participantAge" name="participantAge" ng-model="selectedParticipant.years" class="form-control" style="width: 120px; display: inline-block;"><span> yrs</span>
							</div>
						</div>
						<div ng-show="selectedParticipant.years <= 2" class="form-group row">
							<label for="participantMonths" class="col-sm-2 col-form-label"></label>
							<div class="col-sm-10">
								<input type="number" id="participantMonth" name="participantMonth" ng-model="selectedParticipant.months" class="form-control" style="width: 120px; display: inline-block;"><span> months</span>
							</div>
						</div>
						<div class="form-group row">
							<label for="participantGender" class="col-sm-2 col-form-label form-check-label">Is Female:</label>
							<div class="col-sm-10">
								<input type="checkbox" id="participantGender" name="participantGender" ng-model="selectedParticipant.isFemale" class="form-check-input">
							</div>
						</div>
						<div class="form-group row">
							<label for="participantBreastfeeding" class="col-sm-2 col-form-label form-check-label">Is Breastfed:</label>
							<div class="col-sm-10">
								<input type="checkbox" id="participantBreastfeeding" name="participantBreastfeeding" ng-model="selectedParticipant.isBreastfed" class="form-check-input">
							</div>
						</div>
						<div class="form-group row">
							<label for="participantLifestage" class="col-sm-2 col-form-label form-check-label">Life Stage:</label>
							<div class="col-sm-10">
								<select id="participantLifestage" name="participantLifestage" ng-model="selectedParticipant.lifeStage" class="form-control">
									<option value="None">None</option>
									<option value="Breastfeeding">Breastfeeding</option>
									<option value="Pregnant">Pregnant</option>
									<option value="Breastfeeding & Pregnant">Breastfeeding & Pregnant</option>
								</select>
							</div>
						</div>
						<div class="form-group row" ng-show="selectedParticipant.lifeStage === 'Pregnant' || selectedParticipant.lifeStage === 'Breastfeeding & Pregnant'">
							<label for="participantTrimester" class="col-sm-2 col-form-label form-check-label">Pregnancy Trimester:</label>
							<div class="col-sm-10">
								<select id="participantTrimester" name="participantTrimester" ng-model="selectedParticipant.pregnancyTrimester" class="form-control" >
									<option value="NA">NA</option>
									<option value="First">First</option>
									<option value="Second">Second</option>
									<option value="Third">Third</option>
									<option value="Unknown">Unknown</option>
								</select>
							</div>
						</div>
						<div class="form-group row">
							<div class="col-sm-2"><label for="participantWeight" class=" col-form-label">Weight: </label></div>
							<div class="col-sm-10">
								<input type="number" id="participantWeight" name="participantWeight" ng-model="selectedParticipant.weight" class="form-control" style="width: 120px; display: inline-block;"><span> kgs</span>
							</div>
						</div>
						<div class="form-group row">
							<div class="col-sm-2"><label for="participantHeight" class=" col-form-label">Height: </label></div>
							<div class="col-sm-10">
								<input type="number" id="participantHeight" name="participantHeight" ng-model="selectedParticipant.height" class="form-control" style="width: 120px; display: inline-block;"><span> cms</span>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="saveParticipant(selectedParticipant)">Save <span class="glyphicon glyphicon-floppy-disk" /></button>
				</div>
			</div>
		</div>
	</div>
	<div id="daysModal" class="container modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Select Days</h4>
				</div>
				<div class="modal-body">
					<ul>
						<li><input id="allcb" type="checkbox" ng-change="toggleAllDays(allDaysChecked)" ng-model="allDaysChecked"><label for="allcb" style="font-weight: bolder; padding-left: 10px;">All</label></li>
						<li ng-repeat="d in searchDays"><input id="day-cb-{{$index}}" name="day-cb-{{$index}}"  ng-change="toggleDay(d)" type="checkbox" ng-model="d.checked"><label for="day-cb-{{$index}}" style="font-weight: bolder; padding-left: 10px;">{{d.date | date:'dd/MM/yyyy'}}</label></li>
					</ul>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="reassignDays()">Ok</button>
				</div>
			</div>
		</div>
	</div>
	<div id="historyModal" class="container modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Household History</h4>
				</div>
				<div class="modal-body" style="padding: 0; margin: 0;">
					<ul class="list-group" style="padding: 0; margin: 0;">
						<li class="list-group-item" ng-repeat="history in conversionHistories">
							<div role='button' ng-click="closeHistoryModal(history.recordId ? '/#!/image?id=' + history.recordId : '/#!/recipe?id=' + history.recipeId)" data-dismiss="modal">
								<div  style="font-weight: bolder;">
									<span>{{history.createdBy}}</span>
									<span class="pull-right">{{history.createdTime | date : 'hh:mm dd/MM/yy'}}</span>
								</div>
								<div>
									<span>{{printConversionMessage(history)}}</span>
								</div>
							</a>
						</li>
					</ul>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-standard" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
</div>